# Решение проблем с входом

## Проблема: "Ошибка входа. Проверьте логин и пароль"

### Шаги для отладки:

1. **Убедитесь, что бэкенд запущен**
   - Бэкенд должен быть запущен на `http://localhost:8080`
   - Проверьте в браузере: откройте `http://localhost:8080` - должно показать "Hello World!"

2. **Перезапустите бэкенд** (важно после добавления CORS)
   - Остановите бэкенд (Ctrl+C)
   - Запустите снова: `./gradlew run` или через IDE

3. **Проверьте консоль браузера**
   - Откройте DevTools (F12)
   - Перейдите на вкладку "Console"
   - Попробуйте войти снова
   - Посмотрите на ошибки в консоли

4. **Проверьте вкладку Network**
   - Откройте DevTools (F12)
   - Перейдите на вкладку "Network"
   - Попробуйте войти
   - Найдите запрос к `/login`
   - Посмотрите статус ответа и содержимое

5. **Возможные проблемы:**

   **CORS ошибка:**
   - Если видите ошибку типа "CORS policy" или "Access-Control-Allow-Origin"
   - Убедитесь, что бэкенд перезапущен после добавления CORS конфигурации
   - Проверьте файл `backend/src/main/kotlin/HTTP.kt` - там должна быть настройка CORS

   **Сервер не отвечает:**
   - Ошибка "Network Error" или статус 0
   - Проверьте, что бэкенд запущен
   - Проверьте URL в `frontend/src/services/api.ts` - должен быть `http://localhost:8080`

   **Неверные учетные данные:**
   - Убедитесь, что пользователь существует в базе данных
   - Проверьте логи бэкенда для деталей

6. **Проверьте логи бэкенда**
   - В консоли где запущен бэкенд должны быть логи
   - При попытке входа должно быть: "POST /login called"
   - Если есть ошибки - они будут в логах

### Проверка работы API напрямую:

Можно проверить работу API через curl или Postman:

```bash
curl -X POST http://localhost:8080/login \
  -H "Content-Type: application/json" \
  -d '{"username":"ваш_логин","password":"ваш_пароль"}'
```

Должен вернуть JSON с токеном:
```json
{"token":"..."}
```

